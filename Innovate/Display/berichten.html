<script type="text/javascript">
    var images = [];

    function getNews()
    {
        localStorage.clear();
        //maak een api call
        let xmlhttp = new XMLHttpRequest();
        let messages = null;
        xmlhttp.open("GET", "message.json", true);
        
        xmlhttp.onreadystatechange = function () 
        {
            if (this.readyState == 4 && this.status == 200)
            {
                //haal de json file op
                var images = [];
                messages = JSON.parse(xmlhttp.responseText);
                for (let x = 0; x < Object.keys(messages).length; x++) 
                {
                    images[x] = messages[x].Link;
                    console.log(messages[x].Link);
                }
            }
        }
        xmlhttp.send(null);
    }

    //Bericht veranderen
    function changeImg()
    {
        getNews();
        console.log(images);
        var i = 0;//Start punt
        var time = 5000;//Hoelang het duurt tot het bericht veranderd
        document.slide.src = images[i];
        if(i < images.length - 1)
        {
            i++;
        }
        else
        {
            i = 0;
        }
        setTimeout("changeImg()", time);
    }
    //Hierdoor word de functie aangeroepen als de applicatie word gestart
    window.onload = changeImg;
</script>

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <img name="slide" width="100%" height="100%" alt="Nieuwsberichten">
    </body>
</html>